<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JQ XML With AJAX Method</title>

	<style>
 		.err{
 			color:red;
 		}
	</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
	$(function(){ 
	 $(username_err).hide();
	 $(password_err).hide();
	 $(password_ag_err).hide();
	 $(email_err).hide(); 

	 var err_usernm = false;
	 var err_passwd = false;
	 var err_passwd_again = false;
	 var err_mail = false;


	 $("#username").focusout(function(){
	 	check_username();
	 });
	 $("#password").focusout(function(){
	 	check_password();
	 });
	 $("#new_password").focusout(function(){
	 	check_again_password();
	 });
	 $("#email").focusout(function(){
	 	check_email();
	 });

	 function check_username(){
	 	var username_length = $("#username").val().length;
	 	if(username_length < 5 || username_length > 20){
	 		$("#username_err").html("Username Should be between 5-20 character.");
	 		$("#username_err").show();
	 		err_usernm = true;
	 	}else{
	 		$("#username_err").hide(); 
	 	}
	 }

	 function check_password(){
	 	var password_length = $("#password").val().length;
	 	if(password_length < 8){
	 		$("#password_err").html("Password Should be minimum 8 chracter.");
	 		$("#password_err").show();
	 		err_passwd = true;
	 	}else{
	 		$("#password_err").hide(); 
	 	}
	 }
	 function check_again_password(){
	 	var old_password = $("#password").val();
	 	var new_password = $("#new_password").val();
	 	if(old_password != new_password){
	 		$("#password_ag_err").html("Password does not match.");
	 		$("#password_ag_err").show();
	 		err_passwd_again = true;
	 	}else{
	 		$("#password_ag_err").hide(); 
	 	}
	 }

	 function check_email(){
	 	var pattern = new RegExp(/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i); 
	 	if(pattern.test($("#email").val())){
	 		$("#email_err").hide(); 
	 	}else{
	 		$("#email_err").html("Envalid Email.");
	 		$("#email_err").show();
	 		err_mail = true;
	 	}
	 }


	}); 

	$("#myform").submit(function(){
		var err_usernm = false;
		var err_passwd = false;
		var err_passwd_again = false;
		var err_mail = false;
		if(err_usernm == false && err_passwd == false && err_passwd_again == false && err_mail == false){
			return true;
		}else{
			return false;
		}
	});
</script>
</head>
<body>
	<h2>JQ - Form Validation</h2>
	<div class="wrap">
		<form id="myform" action="msg.html" method="post">
			<table>
				<tr>
					<td>Username:</td>
					<td><input type="text" id="username"></td>
					<td><span class="err" id="username_err"></span></td>
				</tr>
				<tr>
					<td>Password:</td>
					<td><input type="password" id="password"></td>
					<td><span class="err" id="password_err"></span></td>
				</tr>
				<tr>
					<td>Password Again:</td>
					<td><input type="password" id="new_password" ></td>
					<td><span class="err" id="password_ag_err"></span></td>
				</tr>
				<tr>
					<td>Email:</td>
					<td><input type="text" id="email" ></td>
					<td><span class="err" id="email_err"></span></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit"></td>
				</tr>
			</table>
		</form>
	</div>
	<br> 
</body>
</html>